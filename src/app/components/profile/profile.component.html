<app-header></app-header>
<div class="container">

  <h1>Your Info</h1>
  <div class="row">
    <div class="col-sm-4">
      <form #userInfoForm="ngForm" (ngSubmit)="submitUserInfo()">

        <div class="form-group">
          <label for="firstName">First name</label>
          <input #firstName="ngModel" [(ngModel)]="userInfo.firstName" class="form-control" id="firstName"
                 name="firstName"
                 required type="text">
          <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
               class="alert alert-danger">
            <div *ngIf="firstName.errors.required">
              First name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input #lastName="ngModel" [(ngModel)]="userInfo.lastName" class="form-control" id="lastName" name="lastName"
                 required type="text">
          <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
               class="alert alert-danger">
            <div *ngIf="lastName.errors.required">
              Last name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="city">City</label>
          <input #city="ngModel" [(ngModel)]="userInfo.city" class="form-control" id="city" name="city"
                 required type="text">
          <div *ngIf="city.invalid && (city.dirty || city.touched)"
               class="alert alert-danger">
            <div *ngIf="city.errors.required">
              City is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Phone</label>
          <input #phone="ngModel" [(ngModel)]="userInfo.phone" class="form-control" id="phone" name="phone"
                 required type="text">
          <div *ngIf="phone.invalid && (phone.dirty || phone.touched)"
               class="alert alert-danger">
            <div *ngIf="phone.errors.required">
              Phone is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="grade">Grade</label>
          <input [(ngModel)]="userInfo.grade" class="form-control" id="grade" name="grade" type="text">
        </div>

        <div class="form-group">
          <label for="university">University</label>
          <input [(ngModel)]="userInfo.university" class="form-control" id="university" name="university" type="text">
        </div>

        <div class="form-group">
          <label for="department">Department</label>
          <input [(ngModel)]="userInfo.department" class="form-control" id="department" name="department" type="text">
        </div>

        <div class="form-group">
          <label for="speciality">Speciality</label>
          <input [(ngModel)]="userInfo.speciality" class="form-control" id="speciality" name="speciality" type="text">
        </div>

        <button [disabled]="!userInfoForm.form.valid" class="btn btn-success" type="submit">Submit</button>

      </form>
    </div>
  </div>

  <div class="row" *ngIf="showMsg">
    <div class="col-sm-4">
      <p class="alert alert-success">
        User Info updated!
      </p>
    </div>
  </div>

  <h4>Your tests</h4>
  <div class="row">
    <div *ngIf="testAvailable">
      <p>You have a test available until: {{userInfo.testEnd}}</p>
      <a class="btn btn-primary" role="button" routerLink="/test/start">Start test</a>
    </div>
    <div *ngIf="!testAvailable">
      <p>There are no tests available</p>
    </div>
  </div>
</div>
